/*
	Popups mouse guides.

	For: [[w:en:Wikipedia:Tools/Navigation popups]]
	The idea was to make the more or less invisible guides (roads) for the mouse from a link to the popups menu.
	Also added some safe space around the menu so that the mouse doesn't slip from the edge.

	@author Maciej Nux
	@license CC-BY
	@started 2023-06
*/

.popup_menu:hover
{
	box-shadow: 0 0 5px 5px rgba(179, 179, 255, 0.3)
}
/* colors for testing *
.popup_menu li::after,
.popup_menu li::before,
.popup_menu::after,
.popup_menu::before {
	background: #5554;
}
.popup_menu li {
	background:white;
}
/* trapezoid guide for the cursor */	
.popup_menu::before {
	content: '';
	display: block;
	position: absolute;
	height: 1.5em;
	top: -1.4em;
	left: -1.2em;
	width: calc(2 * var(--navpop-m-len, 6ch));
	transform: perspective(1px) rotateX(1deg);
}
/* make the trapezoid go behing menu items */
.popup_menu::before {
	z-index: 1;
}
.popup_menu li {
	position: relative;
	z-index: 2;
}

/* additional hover margin on the sides */
.popup_menu li::before {
	content: '';
	display: block;
	position: absolute;
	top: 0;
	height: calc(100% + .5em);
	left: -1.7em;
	width: 1.7em;
}
.popup_menu li::after {
	content: '';
	display: block;
	position: absolute;
	top: 0;
	height: calc(100% + .5em);
	left: calc(10em - 1px);	/* depends on the width of the menu */
	width: 1em;
}
